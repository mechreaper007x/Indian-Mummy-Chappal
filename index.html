<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Indian Mummy: Chappal</title>

    <!-- Physics Engine -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Bangers&family=Open+Sans:wght@600;800&display=swap"
      rel="stylesheet"
    />

    <!-- Game Styles -->
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- ========================================
     START SCREEN
======================================== -->
    <div id="start-screen" class="screen">
      <h1 class="main-title title-font">INDIAN MUMMY:<br />CHAPPAL</h1>
      <div class="creator-tag">CREATED BY MISHMAY</div>
      <button class="btn" onclick="sounds.init(); sounds.playClick(); game.showMummySelect()">PLAY</button>
    </div>

    <!-- ========================================
     LEVEL SELECT
======================================== -->
    <div id="level-screen" class="screen hidden">
      <h2 class="text-3xl font-bold text-orange-800 mb-6 title-font">
        SELECT SCENARIO
      </h2>
      <div class="level-grid" id="level-grid">
        <!-- Generated by JS -->
      </div>
      <button class="btn btn-small mt-8" onclick="game.showMummySelect()">
        BACK
      </button>
    </div>

    <!-- ========================================
     MUMMY SELECTION SCREEN
======================================== -->
    <div id="mummy-screen" class="screen hidden">
      <h2 class="text-3xl font-bold text-orange-800 mb-4 title-font">
        SELECT YOUR MUMMY
      </h2>
      <p class="text-orange-700 mb-4" style="font-size: 14px;">
        Choose a regional mummy from across India!
      </p>
      <div class="mummy-grid" id="mummy-grid">
        <!-- Generated by JS -->
      </div>
      <button class="btn btn-small mt-6" onclick="game.showStartScreen()">
        BACK
      </button>
    </div>

    <!-- ========================================
     PAUSE SCREEN
======================================== -->
    <div
      id="pause-screen"
      class="screen hidden"
      style="background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(5px)"
    >
      <div class="modal-content">
        <h2 class="text-4xl title-font text-red-600 mb-4">PAUSED</h2>
        <div class="flex flex-col gap-4">
          <button class="btn" onclick="game.togglePause()">RESUME</button>
          <button
            class="btn"
            style="background: #ff9800"
            onclick="game.showLevelSelect()"
          >
            EXIT TO MENU
          </button>
        </div>
      </div>
    </div>

    <!-- ========================================
     COMIC STORY SCREEN
======================================== -->
    <div id="comic-screen" class="screen hidden">
      <div class="comic-container">
        <div class="comic-panel" id="comic-panel">
          <div class="comic-title" id="comic-story-title">STORY TITLE</div>
          <div class="panel-counter" id="panel-counter">1/3</div>
          <div class="narration-box" id="comic-narration">Narration text...</div>
          <div class="comic-scene" id="comic-scene">
            <!-- Characters drawn via canvas -->
            <canvas id="comic-canvas" width="500" height="200"></canvas>
          </div>
          <div class="speech-bubble" id="comic-dialogue">
            "Dialogue text here..."
          </div>
        </div>
        <div class="comic-controls">
          <button class="btn btn-small" onclick="game.skipComic()" style="background: #757575;">SKIP ⏭</button>
          <button class="btn" onclick="game.advancePanel()" id="comic-next-btn">NEXT ▶</button>
        </div>
      </div>
    </div>

    <!-- ========================================
     GAME HUD
======================================== -->

    <div id="ui-layer" class="hidden">
      <div class="flex justify-between items-start w-full pointer-events-auto">
        <div>
          <div class="level-title title-font" id="level-name-display">
            LEVEL 1
          </div>
          <div
            class="font-bold text-orange-800 bg-white\/70 px-3 py-1 rounded inline-block mt-2 border border-orange-800"
          >
            AMMO: <span id="ammo-count">6</span>
          </div>
        </div>
        <div class="flex gap-2">
          <button class="btn btn-small" onclick="game.toggleFullscreen()" id="fullscreen-btn" title="Fullscreen">⊞</button>
          <button class="btn btn-small" onclick="game.togglePause()">⏸</button>
        </div>
      </div>

      <div id="status-display" class="status-text">RELOADING...</div>

      <div
        class="text-center w-full pointer-events-none pb-8 text-orange-900 title-font"
        style="opacity: 0.6; font-size: max(2vw, 18px)"
      >
        DRAG & RELEASE TO THROW!
      </div>
    </div>

    <!-- ========================================
     GAME OVER / WIN MODAL
======================================== -->
    <div
      id="game-modal"
      class="screen hidden"
      style="background: rgba(0, 0, 0, 0.7)"
    >
      <div class="modal-content">
        <h2
          class="text-4xl font-bold text-red-600 mb-2 title-font"
          id="modal-title"
        >
          TITLE
        </h2>
        <p class="text-lg text-gray-700 mb-6 italic font-bold" id="modal-desc">
          Description
        </p>
        <button class="btn" id="modal-btn" onclick="game.handleModalAction()">
          ACTION
        </button>
      </div>
    </div>

    <!-- Game Canvas -->
    <canvas id="world"></canvas>

    <!-- Game Script -->
    <script src="game.js"></script>
  </body>
</html>
